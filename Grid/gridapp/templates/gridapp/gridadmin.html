{% extends "gridapp/base.html" %}

{% block title %}
    Admin Home
{% endblock title %}

{% block nav %}
  <div class="navbar-nav mr-auto">
    <a class="nav-item nav-link" href="/search/">View Database</a>
    <a class="nav-item nav-link" href="/scan">Scan</a>
    <a class="nav-item nav-link" href="/add_asset">Update Server Credentials</a>
  </div>
  <!-- Navbar Right Side -->
  <div class="navbar-nav">
    <a class="nav-item nav-link" href="/gridapp">Hello, Admin</a>
    <a class="nav-item nav-link" href="/logout">Log out</a>
  </div>
{% endblock nav %}

{% block content %}
  <h1>Search</h1>
  <form action="/gridadmin">
    <div class="form-group">
      <label for="exampleFormControlSelect1">Search By:</label>
      <select class="form-control form-control-lg" id="searchTermSelect" onchange="searchChange()">
        <option value="default" disabled selected>Choose Search Parameter</option>
        <option value="OS">Operating System</option>
        <option value="AD">AD Domain</option>
        <option value="Workgroup">Workgroup</option>
      </select>
    </div>

    <input type="text" class="form-control" id="searchBar" placeholder="Choose Search Parameter">
    <script>
      function searchChange() {
        if(document.getElementById("searchTermSelect".value) == "Choose Search Parameter")
          document.getElementById("searchBar").placeholder = "Select Search Parameter";
        else if(document.getElementById("searchTermSelect").value == "OS")
          document.getElementById("searchBar").placeholder = "Enter Operating System";
        else if(document.getElementById("searchTermSelect").value == "Workgroup")
          document.getElementById("searchBar").placeholder = "Enter Workgroup";
        else
          document.getElementById("searchBar").placeholder = "Enter AD Domain";
      }

      if(context['error']) {
        alert("Scan failed");
      }
      else {
        alert("Scan complete!");
      }

    </script>

    <br>
    <button type="submit" class="btn btn-primary">Search Database</button>
  </form>
  <br>

  <div>
    <table class="table table-striped table-bordered">
      <thead>
        <tr>
          <th scope="col">#</th>
          <th scope="col">First</th>
          <th scope="col">Last</th>
          <th scope="col">Handle</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <th scope="row">1</th>
          <td>Mark</td>
          <td>Otto</td>
          <td>@mdo</td>
        </tr>
        <tr>
          <th scope="row">2</th>
          <td>Jacob</td>
          <td>Thornton</td>
          <td>@fat</td>
        </tr>
        <tr>
          <th scope="row">3</th>
          <td>Larry</td>
          <td>the Bird</td>
          <td>@twitter</td>
        </tr>
      </tbody>
    </table>
  </div>
{% endblock content %}